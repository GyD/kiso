!function(t,i){"use strict";var e=function(t,i){this.link=t,this.context=i,this.logMessages=[],this.linkClass=!1,this.iconElement=!1,this.ariaLabel=!1,this.opensNewWindow=!1,this.intIncluded=!1,this.isExternal=!1,this.isInternal=!1,this.isEmail=!1,this.isSvgImage=!1,this.svgImageShapeData=!1,this.svgImageViewBox=!1,this.fontAwesomeClass=!1};e.prototype.init=function(){this.link.hasAttribute("target")&&"_blank"===this.link.getAttribute("target")&&(this.opensNewWindow=!0,this.logMessages.push("opensNewWindow")),this.link.hasAttribute("data-extlink")&&(this.isExternal=!0,this.logMessages.push("isExternal"),-1!=this.link.getAttribute("href").indexOf("mailto:")&&(this.isEmail=!0,this.logMessages.push("isEmail"))),this.opensNewWindow&&!this.isExternal&&(this.isInternal=!0,this.logMessages.push("isInternal")),i.data.extlink.extUseFontAwesome?(this.iconElement=this.link.querySelector('span[class^="fa"]'),this.logMessages.push("isFontAwesomeIcon")):(this.isSvgImage=!0,this.iconElement=this.link.querySelector("svg"),this.logMessages.push("isSvgImage")),i.kiso.extlinkWindow.intlinkEnabled&&(this.intIncluded=!0),this.setAttributeValues(),this.updateIconElement()},e.prototype.setAttributeValues=function(){this.isExternal?this.opensNewWindow?(this.linkClass="ext",this.ariaLabel=i.kiso.extlinkWindow.extlinkLabel,this.svgImageShapeData=i.kiso.extlinkWindow.intlinkShapeData,this.svgImageViewBox=i.kiso.extlinkWindow.viewBoxSquare,this.fontAwesomeClass=i.kiso.extlinkWindow.fontAwesomeClass):(this.linkClass=this.isEmail?"mailto":"ext",this.ariaLabel=this.isSvgImage?this.iconElement.getAttribute("aria-label"):this.iconElement.querySelector("span").getAttribute("aria-label"),this.svgImageShapeData=this.isEmail?i.kiso.extlinkWindow.mailtoShapeData:i.kiso.extlinkWindow.extlinkShapeData,this.svgImageViewBox=this.isEmail?i.kiso.extlinkWindow.viewBoxSquare:i.kiso.extlinkWindow.viewBoxRect,this.fontAwesomeClass=this.isEmail?i.data.extlink.extFaMailtoClasses:i.data.extlink.extFaLinkClasses):this.isInternal&&(this.linkClass="int",this.ariaLabel=i.kiso.extlinkWindow.intlinkLabel,this.svgImageShapeData=i.kiso.extlinkWindow.intlinkShapeData,this.svgImageViewBox=i.kiso.extlinkWindow.viewBoxSquare,this.fontAwesomeClass=i.kiso.extlinkWindow.fontAwesomeClass)},e.prototype.updateIconElement=function(){if(this.ariaLabel&&(this.isExternal||this.isInternal&&this.intIncluded)){var t=this.isSvgImage?this.createSvgIcon():this.createFontAwesomeIcon();this.isExternal&&this.link.removeChild(this.iconElement),this.link.appendChild(t),this.link.setAttribute("data-extlink-window",""),this.logMessages.push(this.link)}},e.prototype.createSvgIcon=function(){var t=this.context.createElementNS("http://www.w3.org/2000/svg","svg");t.classList.add(this.linkClass,this.linkClass+"--smaller"),t.setAttribute("role","img"),t.setAttribute("aria-label",this.ariaLabel),t.setAttribute("viewBox",this.svgImageViewBox);var i=this.context.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",this.svgImageShapeData),t.appendChild(i),t},e.prototype.createFontAwesomeIcon=function(){var t=this.context.createElement("i");return t.classList.add("fa-"+this.linkClass,...this.fontAwesomeClass.split(" ")),t.setAttribute("role","img"),t.setAttribute("aria-label",this.ariaLabel),t},t.behaviors.extlinkWindow={attach:function(t,i){for(var s=t.querySelectorAll('a[href]:not([href^="#"]):not([href^="tel:"]):not([role="tab"]):not([role="button"]):not([data-extlink-window])'),a=0;a<s.length;a++){new e(s[a],t).init()}}}}(Drupal,drupalSettings);