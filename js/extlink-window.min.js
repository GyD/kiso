!function(){function DOMTokenList(el){for(var classes=(this.el=el).className.replace(/^\s+|\s+$/g,"").split(/\s+/),i=0;i<classes.length;i++)push.call(this,classes[i])}if(!(void 0===window.Element||"classList"in document.documentElement)){var obj,prop,getter,prototype=Array.prototype,push=prototype.push,splice=prototype.splice,join=prototype.join;DOMTokenList.prototype={add:function(token){this.contains(token)||(push.call(this,token),this.el.className=this.toString())},contains:function(token){return-1!=this.el.className.indexOf(token)},item:function(index){return this[index]||null},remove:function(token){if(this.contains(token)){for(var i=0;i<this.length&&this[i]!=token;i++);splice.call(this,i,1),this.el.className=this.toString()}},toString:function(){return join.call(this," ")},toggle:function(token){return this.contains(token)?this.remove(token):this.add(token),this.contains(token)}},window.DOMTokenList=DOMTokenList,obj=Element.prototype,prop="classList",getter=function(){return new DOMTokenList(this)},Object.defineProperty?Object.defineProperty(obj,prop,{get:getter}):obj.__defineGetter__(prop,getter)}}(),function(Drupal,drupalSettings,window,document,undefined){"use strict";var ExtlinkWindow=function(domNode){this.domNode=domNode,this.warningMessage=!1,this.opensNewWindow=!1,this.isExternal=!1,this.intIncluded=!1};ExtlinkWindow.prototype.init=function(){var isCustomLabel,label,defaultLabel;this.domNode.getAttribute("target")&&"_blank"===this.domNode.getAttribute("target")&&(this.opensNewWindow=!0),(this.domNode.classList.contains("ext")||this.domNode.classList.contains("mailto"))&&(this.isExternal=!0),drupalSettings.kiso.extlinkWindow.intlink.enabled&&(this.intIncluded=!0),this.opensNewWindow&&(label=this.isExternal?drupalSettings.kiso.extlinkWindow.extlink.label:drupalSettings.kiso.extlinkWindow.intlink.label,defaultLabel=this.isExternal?drupalSettings.kiso.extlinkWindow.extlink.defaultLabel:drupalSettings.kiso.extlinkWindow.intlink.defaultLabel,isCustomLabel=this.isExternal?drupalSettings.kiso.extlinkWindow.extlink.customLabel:drupalSettings.kiso.extlinkWindow.intlink.customLabel,this.setWarningMessage(isCustomLabel,label,defaultLabel)),this.updateSpanElement()},ExtlinkWindow.prototype.setWarningMessage=function(isCustomLabel,label,defaultLabel){this.warningMessage=isCustomLabel&&"string"==typeof label&&label.length?Drupal.t(label):Drupal.t(defaultLabel)},ExtlinkWindow.prototype.updateSpanElement=function(){if(this.isExternal){var labelClass=this.domNode.className+"__label",spanElement=this.domNode.querySelector("span."+this.domNode.className);spanElement.setAttribute("role","img"),spanElement.className=labelClass,this.opensNewWindow&&this.warningMessage&&(spanElement.classList.add(labelClass+"--new-window"),spanElement.setAttribute("aria-label",this.warningMessage))}else this.createSpan()},ExtlinkWindow.prototype.createSpan=function(){if(this.intIncluded&&this.warningMessage){var newSpan=document.createElement("span");newSpan.setAttribute("role","img"),newSpan.classList.add("int__label","int__label--new-window"),newSpan.setAttribute("aria-label",this.warningMessage),this.domNode.classList.add("int"),this.domNode.appendChild(newSpan)}},Drupal.behaviors.extlinkWindow={attach:function(context,drupalSettings){window.addEventListener("load",function(event){for(var links=document.querySelectorAll('a[href]:not([href^="#"]):not([href^="tel:"]):not([role="tab"]):not([role="button"])'),i=0;i<links.length;i++){new ExtlinkWindow(links[i]).init()}},!1)}}}(Drupal,drupalSettings,this,this.document);